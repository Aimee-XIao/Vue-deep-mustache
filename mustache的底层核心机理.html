<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
</html>
<script src="./mustache.js" ></script>
<script>

var templateStr =  `<h1>我买了一个{{thing}}, 花了{{money}}元，好{{mood}}呀</h1>`

var data = {
  thing: '白菜',
  money: 5,
  mood: '激动'
}

// 最简单的模板引擎的实现机理， 利用正则表达式的replace()方法。
// replace() 的第二个参数可以是一个函数，这个函数提供捕获的东西的参数，就是$1
// 结合 data 对象，即可进行智能的替换

function render(templateStr, data) {
  return templateStr.replace(/\{\{(\w+)\}\}/g, function (findStr, $1){
    // console.log($1) // thing money mood
    return data[$1]
  })
}

var result = render(templateStr, data)
console.log(result) // <h1>我买了一个白菜, 花了5元，好激动呀</h1>















</script>
